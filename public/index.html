<html>
<head>
    <title>To Do App</title>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.0.0/mdb.min.css" />

    <style>
        .key {
            width: 50px;
            height: 200px;
            background-color: white;
            border: 1px solid black;
            display: inline-block;
            margin: 5px;
            cursor: pointer;
        }

        .black-key {
            width: 30px;
            height: 120px;
            background-color: black;
            position: relative;
            margin-top: -120px;
            margin-left: 25px;
            cursor: pointer;
        }
    </style>
</head>

  <body>

    

    <h1 class="text-center" id="todo">Express + Prisma + MongoDB</h1>
    <h2 class="text-center">To Do List</h2>

    <section style="background-color:rgb(4 0 255 / 6%);">
      <div class="container-lg p-5">
        <div class="row d-flex justify-content-center align-items-center">
          <div class="col col-xl-10">

            <div class="card">
              <div class="card-body p-5">

                <form class="d-flex justify-content-center align-items-center mb-4" id="todo-form">
                  <div class="form-outline flex-fill">
                    <input type="text" id="add-input" class="form-control" />
                    <label class="form-label" for="add-input">New task...</label>
                  </div>
                  <button type="submit" class="btn btn-info ms-2">Add</button>
                </form>

                <ul class="list-group mb-0" id="todo-list" />

              </div>
            </div>

          </div>
        </div>
      </div>
    </section>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.0.0/mdb.min.js" ></script>
    <script type="text/javascript" src="../js/client.js" ></script>


     <div class="piano_zone">
         <h2>PIANO</h2>
         <div class="content">

             <div class="key" data-note="C"></div>
             <div class="black-key" data-note="C#"></div>
             <div class="key" data-note="D"></div>
             <div class="black-key" data-note="D#"></div>
             <div class="key" data-note="E"></div>
             <div class="key" data-note="F"></div>
             <div class="black-key" data-note="F#"></div>
             <div class="key" data-note="G"></div>
             <div class="black-key" data-note="G#"></div>
             <div class="key" data-note="A"></div>
             <div class="black-key" data-note="A#"></div>
             <div class="key" data-note="B"></div>

             <audio data-sound="C" src="C.mp3"></audio>
             <audio data-sound="C#" src="Csharp.mp3"></audio>
             <audio data-sound="D" src="D.mp3"></audio>
             <audio data-sound="D#" src="Dsharp.mp3"></audio>
             <audio data-sound="E" src="E.mp3"></audio>
             <audio data-sound="F" src="F.mp3"></audio>
             <audio data-sound="F#" src="Fsharp.mp3"></audio>
             <audio data-sound="G" src="G.mp3"></audio>
             <audio data-sound="G#" src="Gsharp.mp3"></audio>
             <audio data-sound="A" src="A.mp3"></audio>
             <audio data-sound="A#" src="Asharp.mp3"></audio>
             <audio data-sound="B" src="B.mp3"></audio>

             <script>
                 const keys = document.querySelectorAll('.key');

                 function playSound(note) {
                     const audio = document.querySelector(`audio[data-sound="${note}"]`);
                     if (!audio) return;
                     audio.currentTime = 0;
                     audio.play();
                 }

                 keys.forEach(key => {
                     key.addEventListener('mousedown', () => {
                         const note = key.dataset.note;
                         playSound(note);
                         key.classList.add('active');
                     });

                     key.addEventListener('mouseup', () => {
                         key.classList.remove('active');
                     });

                     key.addEventListener('mouseleave', () => {
                         key.classList.remove('active');
                     });

                     key.addEventListener('touchstart', (event) => {
                         const note = key.dataset.note;
                         playSound(note);
                         key.classList.add('active');
                         event.preventDefault();
                     });

                     key.addEventListener('touchend', () => {
                         key.classList.remove('active');
                     });
                 });

                 window.addEventListener('keydown', (event) => {
                     const key = event.key.toUpperCase();
                     const keyElement = document.querySelector(`.key[data-note="${key}"]`);
                     if (!keyElement) return;
                     const note = keyElement.dataset.note;
                     playSound(note);
                     keyElement.classList.add('active');
                 });

                 window.addEventListener('keyup', (event) => {
                     const key = event.key.toUpperCase();
                     const keyElement = document.querySelector(`.key[data-note="${key}"]`);
                     if (!keyElement) return;
                     keyElement.classList.remove('active');
                 });
             </script>

         </div>
     
     
     </div>
  </body>
</html>
